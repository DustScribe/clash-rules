
#---------------------------------------------------#
# 配置文件需要放置在 $HOME/.config/clash/config.yml
# 或者运行目录下的config.yml
# fallback: 与 nameserver 并发发起DNS请求，如果解析的IP地址是CN就用 nameserver，如果不是 CN 就用 fallback
# fake-ip-filter: 代表匹配的不走fake-ip
#---------------------------------------------------#
# 混合端口 HTTP和SOCKS5用一个端口
port: 7890
socks-port: 7891
redir-port: 7892
mixed-port: 7893
tproxy-port: 7895
allow-lan: false
bind-address: '*'
secret: xxooooxx
authentication:
  - "admin:xxooooxx"
ipv6: true
find-process-mode: strict
log-level: debug
mode: rule
external-controller: 0.0.0.0:9090
experimental:
  sniff-tls-sni: true
unified-delay: true
tcp-concurrent: true
global-client-fingerprint: chrome
geodata-loader: standard
geox-url:
  geoip: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.dat"
  geosite: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat"
  mmdb: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country.mmdb"
tun:
  enable: true
  stack: system # system or gvisor
  dns-hijack:
    - any:53
    - tcp://any:53
  auto-redir: true
  auto-route: true
  auto-detect-interface: true
  strict-route: true
profile:
  store-selected: true
  store-fake-ip: true
dns:
  enable: true
  ipv6: true
  prefer-h3: true
  listen: 0.0.0.0:53
  enhanced-mode: fake-ip # fake-ip or redir-host
  fake-ip-range: 28.0.0.1/8
  use-hosts: true
  default-nameserver:
    - 223.5.5.5
    - 119.29.29.29
  nameserver-policy:
    "geosite:cn,private":
      - https://doh.pub/dns-query
      - https://dns.alidns.com/dns-query
    "geosite:google":
      - tls://8.8.4.4
      - tls://8.8.8.8
    "geosite:geolocation-!cn":
      - tls://8.8.4.4
      - https://1.0.0.1/dns-query
    "+.newlink.com, +.newlinks.com, +.nlktj.cn":
      - 223.5.5.5
      - 119.29.29.29
    "geosite:category-ads-all": rcode://success
  proxy-server-nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
  nameserver:
    - https://dns.alidns.com/dns-query
    - https://doh.pub/dns-query
  fake-ip-filter:
    - "+.*"